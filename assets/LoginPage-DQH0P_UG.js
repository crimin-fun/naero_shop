import{j as s,n as N,o as w,m as v,r as c,y as b}from"./index-BY3qABC1.js";import{c as n,d as u,a as C}from"./index.es-BnawoYvS.js";import{C as T,a as E,b as L}from"./CToastClose-BhMQWemI.js";import{C as m}from"./CRow-CzCHB0aX.js";import{C as k}from"./CCardGroup-TEwFWiab.js";import{C as I,a as S}from"./CCardBody-DKCx5Kcs.js";import{C as _}from"./CForm-BVAdkWhv.js";import{C as h}from"./CInputGroup-DV-veS_8.js";import{C as j}from"./CInputGroupText-CWP-MLmp.js";import{c as B,a as D}from"./cil-lock-locked-DUwpndTE.js";import{C as g}from"./CFormInput-Bj962SpQ.js";import"./DefaultLayout-C8YAkdI1.js";import"./CFormControlWrapper-BdA-qpzN.js";import"./CFormControlValidation-IoLvrLeC.js";import"./CFormLabel-C7TmMZTG.js";function G({text:t,onClose:l=null,color:e="danger",className:o=""}){const i=`w-100 mt-2 text-white align-items-center ${o}`;return s.jsx(T,{autohide:!1,onClose:l,visible:!0,color:e,className:i,children:s.jsxs("div",{className:"d-flex",children:[s.jsx(E,{children:t}),s.jsx(L,{className:"me-2 m-auto"})]})})}const X=()=>{const t=N(),l=w(),{t:e}=v(),[o,i]=c.useState(""),[d,f]=c.useState(""),[p,x]=c.useState(null),y=async a=>{a.preventDefault();const r=await b(o,d);if(console.log(r),r.result)t({type:"set",user:r.user}),t({type:"set",userData:r.data}),l("/admin");else{if(p!=null)return;x(s.jsx(G,{text:"Wrong username or password, please try again.",onClose:()=>x(null)}))}};return s.jsx(m,{className:"justify-content-center mt-5",children:s.jsx(n,{md:8,lg:5,sm:10,children:s.jsx(k,{children:s.jsx(I,{className:"p-4",children:s.jsx(S,{className:"px-0 px-sm-3 px-md-4",children:s.jsxs(_,{onSubmit:y,children:[s.jsx("h1",{children:e("login.login")}),s.jsx("p",{className:"text-body-secondary",children:e("login.login_sub")}),s.jsxs(h,{className:"mb-3",children:[s.jsx(j,{children:s.jsx(u,{icon:B})}),s.jsx(g,{placeholder:e("login.email"),autoComplete:"email",value:o,onChange:a=>i(a.target.value)})]}),s.jsxs(h,{className:"mb-4",children:[s.jsx(j,{children:s.jsx(u,{icon:D})}),s.jsx(g,{type:"password",placeholder:e("login.password"),autoComplete:"current-password",value:d,onChange:a=>f(a.target.value)})]}),s.jsxs(m,{children:[s.jsx(n,{xs:6,children:s.jsx(C,{type:"submit",color:"primary",className:"px-4",children:e("login.enter")})}),s.jsx(n,{xs:6,className:"text-right d-flex justify-content-end",children:s.jsx(C,{color:"link",className:"px-0",children:e("login.forgot_password")})})]}),s.jsx(m,{children:s.jsx(n,{children:p})})]})})})})})})};export{X as default};
